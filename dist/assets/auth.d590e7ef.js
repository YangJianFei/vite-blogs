import{_ as C,T as A,C as q}from"./common.6bce7251.js";import{r as _,o as h,c as E,a as s,w as l,u as o,y as p,z as g,A as F,B as U,C as x,D as I,n as f,p as T,f as z,G as v,b as w,H as O,g as R,l as J}from"./vendor.26942944.js";let u=localStorage.getItem("users")||"[]";try{u=JSON.parse(u)}catch{u=[],localStorage.removeItem("users")}Array.isArray(u)||(u=[]);var S={addUser(d){for(let t=0;t<u.length;t++)if(u[t].userName===d.userName||u[t].phone===d.phone)return!1;return u.push(d),localStorage.setItem("users",JSON.stringify(u)),!0},login(d){for(let t=0;t<u.length;t++)if((u[t].userName===d.userName||u[t].userName===d.phone)&&u[t].password===d.password)return!0;return!1}};const K=d=>(T("data-v-7d20559d"),d=d(),z(),d),L={class:"login-form"},Z=f("\u8BB0\u4F4F\u767B\u9646"),M=f("\u767B\u9646"),P=K(()=>w("span",null,[f("\u8FD8\u6CA1\u6709\u8D26\u53F7\uFF1F"),w("a",{href:"./auth.html?path=register"},"\u70B9\u51FB\u6CE8\u518C")],-1)),k={setup(d){const t=_(""),a=_({userName:"",password:"",remember:!0}),y=_({userName:[{required:!0,message:"\u8BF7\u586B\u5199\u8D26\u53F7",trigger:"change"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"change"},{validator:(c,n,i)=>{n===""?i(new Error("\u8BF7\u8F93\u5165\u5BC6\u7801")):n.length<6||n.length>29?i(new Error("\u5BC6\u7801\u957F\u5EA6\u5E94\u5927\u4E8E5\u4F4D\u5C0F\u4E8E30\u4F4D")):i()},trigger:"change"}]}),N=()=>{!t.value||t.value.validate(c=>{c&&(S.login(a.value)?(localStorage.setItem("nowUser",JSON.stringify(a.value)),v({type:"success",message:"\u767B\u9646\u6210\u529F",duration:1500,onClose:()=>{window.location.href="./index.html"}})):v({type:"error",message:"\u8D26\u53F7\u6216\u5BC6\u7801\u9519\u8BEF\uFF01"}))})};return(c,n)=>(h(),E("div",L,[s(o(I),{ref_key:"form",ref:t,model:a.value,rules:y.value,"label-width":"75px","label-position":"left"},{default:l(()=>[s(o(p),{label:"\u8D26\u53F7",prop:"userName"},{default:l(()=>[s(o(g),{modelValue:a.value.userName,"onUpdate:modelValue":n[0]||(n[0]=i=>a.value.userName=i),placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7\u6216\u624B\u673A\u53F7"},null,8,["modelValue"])]),_:1}),s(o(p),{label:"\u5BC6\u7801",prop:"password"},{default:l(()=>[s(o(g),{modelValue:a.value.password,"onUpdate:modelValue":n[1]||(n[1]=i=>a.value.password=i),type:"password","show-password":"",placeholder:"\u5BC6\u7801\u4F4D\u6570\u5927\u4E8E5\uFF0C\u5C0F\u4E8E30",onKeypress:F(N,["enter"])},null,8,["modelValue","onKeypress"])]),_:1}),s(o(p),null,{default:l(()=>[s(o(U),{modelValue:a.value.remember,"onUpdate:modelValue":n[2]||(n[2]=i=>a.value.remember=i)},{default:l(()=>[Z]),_:1},8,["modelValue"]),s(o(x),{class:"w100",type:"primary",onClick:N},{default:l(()=>[M]),_:1})]),_:1}),s(o(p),null,{default:l(()=>[P]),_:1})]),_:1},8,["model","rules"])]))}};var D=C(k,[["__scopeId","data-v-7d20559d"]]);const G={class:"register-form"},H=f("\u6211\u5DF2\u4ED4\u7EC6\u9605\u8BFB\u5E76\u63A5\u53D7"),j=f("\u6CE8\u518C\u8BB8\u53EF\u534F\u8BAE"),Q={class:"w100"},W=f("\u6CE8\u518C"),X={setup(d){const t=_(""),a=_({userName:"",password:"",passwordRepeat:"",phone:"",email:"",agreement:!1}),V=/^[.a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,y=/^1\d{10}$/,$=_({userName:[{required:!0,message:"\u8BF7\u586B\u5199\u8D26\u53F7",trigger:"change"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"change"},{validator:(m,r,e)=>{r===""?e(new Error("\u8BF7\u8F93\u5165\u5BC6\u7801")):r.length<6||r.length>29?e(new Error("\u5BC6\u7801\u957F\u5EA6\u5E94\u5927\u4E8E5\u4F4D\u5C0F\u4E8E30\u4F4D")):e()},trigger:"change"}],passwordRepeat:[{required:!0,message:"\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801",trigger:"change"},{validator:(m,r,e)=>{r===""?e(new Error("\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801")):r!==a.value.passwordRepeat?e(new Error("\u786E\u8BA4\u5BC6\u7801\u4E0D\u4E00\u81F4")):r.length<6||r.length>29?e(new Error("\u5BC6\u7801\u957F\u5EA6\u5E94\u5927\u4E8E5\u4F4D\u5C0F\u4E8E30\u4F4D")):e()},trigger:"change"}],phone:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",trigger:"change"},{validator:(m,r,e)=>{y.test(r)?e():e(new Error("\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF"))},trigger:"change"}],email:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1",trigger:"change"},{validator:(m,r,e)=>{V.test(r)?e():e(new Error("\u90AE\u7BB1\u683C\u5F0F\u9519\u8BEF"))},trigger:"change"}],agreement:[{validator:(m,r,e)=>{r?e():e(new Error("\u8BF7\u9605\u8BFB\u5E76\u63A5\u53D7\u8BB8\u53EF\u534F\u8BAE"))},trigger:"change"}]}),B=()=>{!t.value||t.value.validate(m=>{m&&(S.addUser(a.value)?v({type:"success",message:"\u6CE8\u518C\u6210\u529F,\u8BF7\u767B\u5F55",duration:1500,onClose:()=>{window.location.href="./auth.html"}}):v({type:"error",message:"\u8D26\u53F7\u6216\u624B\u673A\u53F7\u5DF2\u88AB\u6CE8\u518C\uFF01"}))})},b=()=>{O.alert(`
    1\u3001\u5728\u672C\u7AD9\u6CE8\u518C\u7684\u4F1A\u5458\uFF0C\u5FC5\u987B\u9075\u5B88\u300A\u4E92\u8054\u7F51\u7535\u5B50\u516C\u544A\u670D\u52A1\u7BA1\u7406\u89C4\u5B9A\u300B\uFF0C\u4E0D\u5F97\u5728\u672C\u7AD9\u53D1\u8868\u8BFD\u8C24\u4ED6\u4EBA\uFF0C\u4FB5\u72AF\u4ED6\u4EBA\u9690\u79C1\uFF0C\u4FB5\u72AF\u4ED6\u4EBA\u77E5\u8BC6\u4EA7\u6743\uFF0C\u4F20\u64AD\u75C5\u6BD2\uFF0C\u653F\u6CBB\u8A00\u8BBA\uFF0C\u5546\u4E1A\u8BAF\u606F\u7B49\u4FE1\u606F\u3002
    2\u3001\u5728\u6240\u6709\u5728\u672C\u7AD9\u53D1\u8868\u7684\u6587\u7AE0\uFF0C\u672C\u7AD9\u90FD\u5177\u6709\u6700\u7EC8\u7F16\u8F91\u6743\uFF0C\u5E76\u4E14\u4FDD\u7559\u7528\u4E8E\u5370\u5237\u6216\u5411\u7B2C\u4E09\u65B9\u53D1\u8868\u7684\u6743\u5229\uFF0C\u5982\u679C\u4F60\u7684\u8D44\u6599\u4E0D\u9F50\u5168\uFF0C\u6211\u4EEC\u5C06\u6709\u6743\u4E0D\u4F5C\u4EFB\u4F55\u901A\u77E5\u4F7F\u7528\u4F60\u5728\u672C\u7AD9\u53D1\u5E03\u7684\u4F5C\u54C1\u3002 
    3\u3001\u5728\u767B\u8BB0\u8FC7\u7A0B\u4E2D\uFF0C\u60A8\u5C06\u9009\u62E9\u6CE8\u518C\u540D\u548C\u5BC6\u7801\u3002\u6CE8\u518C\u540D\u7684\u9009\u62E9\u5E94\u9075\u5B88\u6CD5\u5F8B\u6CD5\u89C4\u53CA\u793E\u4F1A\u516C\u5FB7\u3002\u60A8\u5FC5\u987B\u5BF9\u60A8\u7684\u5BC6\u7801\u4FDD\u5BC6\uFF0C\u60A8\u5C06\u5BF9\u60A8\u6CE8\u518C\u540D\u548C\u5BC6\u7801\u4E0B\u53D1\u751F\u7684\u6240\u6709\u6D3B\u52A8\u627F\u62C5\u8D23\u4EFB\u3002`,"\u6CE8\u518C\u8BB8\u53EF\u534F\u8BAE",{confirmButtonText:"\u786E\u5B9A"})};return(m,r)=>(h(),E("div",G,[s(o(I),{ref_key:"form",ref:t,model:a.value,rules:$.value,"label-width":"85px","label-position":"left"},{default:l(()=>[s(o(p),{label:"\u8D26\u53F7",prop:"userName"},{default:l(()=>[s(o(g),{modelValue:a.value.userName,"onUpdate:modelValue":r[0]||(r[0]=e=>a.value.userName=e),placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7"},null,8,["modelValue"])]),_:1}),s(o(p),{label:"\u5BC6\u7801",prop:"password"},{default:l(()=>[s(o(g),{modelValue:a.value.password,"onUpdate:modelValue":r[1]||(r[1]=e=>a.value.password=e),type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801","show-password":""},null,8,["modelValue"])]),_:1}),s(o(p),{label:"\u786E\u8BA4\u5BC6\u7801",prop:"passwordRepeat"},{default:l(()=>[s(o(g),{modelValue:a.value.passwordRepeat,"onUpdate:modelValue":r[2]||(r[2]=e=>a.value.passwordRepeat=e),type:"password",placeholder:"\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801","show-password":""},null,8,["modelValue"])]),_:1}),s(o(p),{label:"\u624B\u673A",prop:"phone"},{default:l(()=>[s(o(g),{modelValue:a.value.phone,"onUpdate:modelValue":r[3]||(r[3]=e=>a.value.phone=e),placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7"},null,8,["modelValue"])]),_:1}),s(o(p),{label:"\u90AE\u7BB1",prop:"email"},{default:l(()=>[s(o(g),{modelValue:a.value.email,"onUpdate:modelValue":r[4]||(r[4]=e=>a.value.email=e),placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1"},null,8,["modelValue"])]),_:1}),s(o(p),{prop:"agreement"},{default:l(()=>[s(o(U),{modelValue:a.value.agreement,"onUpdate:modelValue":r[5]||(r[5]=e=>a.value.agreement=e)},{default:l(()=>[H]),_:1},8,["modelValue"]),s(o(x),{type:"text",onClick:b},{default:l(()=>[j]),_:1}),w("div",Q,[s(o(x),{class:"w100",type:"primary",onClick:B},{default:l(()=>[W]),_:1})])]),_:1})]),_:1},8,["model","rules"])]))}};var Y=C(X,[["__scopeId","data-v-75f9c4e1"]]);const ee={id:"main"},re={id:"content"},ae={setup(d){const t=_(!1);return t.value=window.location.search.indexOf("path=register")>-1,(a,V)=>(h(),E("div",null,[s(A,{hightLight:"index"}),w("div",ee,[w("div",re,[t.value?(h(),R(Y,{key:0})):(h(),R(D,{key:1}))]),s(q)])]))}};J(ae).mount("#app");
