function W(e){let l=/\/\*[\w\W]+?\*\//,i=/title:[\w\W]+?\n/,n=/date:\d\d\d\d-\d\d-\d\d/,s=/keyword:[\w\W]+?\n/,t=l.exec(e)[0],c=i.exec(t)?i.exec(t)[0].trim():null,r=t.match(n);r=r?r[0].trim():null;let u=s.exec(t)?s.exec(t)[0].trim():null;c=c?'"'+c.slice(0,5)+'":"'+c.slice(6)+'"':null,r=r?'"'+r.slice(0,4)+'":"'+r.slice(5)+'"':null,u=u?'"'+u.slice(0,7)+'":"'+u.slice(8)+'"':null;let p="{"+(c?c+",":"")+(r?r+",":"")+(u||"")+"}";return JSON.parse(p)}function x(e){let l,i;return e===""?"<br/>":e==="***"||e==="---"?"<hr/>":(l=/^#+ /,i=l.exec(e),i&&(e="<h"+(i[0].length-1)+">"+e.slice(i[0].length)+"</h"+(i[0].length-1)+">"),l=/\*{2}(?!=\*)[\w\W]+(?!=\*)\*{2}/,i=l.exec(e),i&&(e=e.replace(l,"<b>"+i[0].slice(2,-2)+"</b>")),l=/\*{1}(?!=\*)[\w\W]+(?!=\*)\*{1}/,i=l.exec(e),i&&(e=e.replace(l,"<i>"+i[0].slice(1,-1)+"</i>")),l=/~{1}(?!=~)[\w\W]+(?!=~)~{1}/,i=l.exec(e),i&&(e=e.replace(l,"<s>"+i[0].slice(1,-1)+"</s>")),l=/(^- (.+))|(^ {3}- (.+))/,i=l.exec(e),i&&e.indexOf("|")===-1&&(e[2]===" "?e="<uli>"+e.slice(4)+"</uli>":e="<uli>"+e.slice(2)+"</uli>"),l=/^(\d)+\. /,i=l.exec(e),i&&(e="<oli>"+e.slice(i[0].length)+"</oli>"),l=/(?!<=`)`(?!=`)(([^`])+)(?!<=`)`(?!=`)/g,e=e.replace(/ /g,"&nbsp;"),e=e.replace(l,(n,s)=>"<code>"+s+"</code>"),l=/!\[([\w\W]+)\]\(([\w\W]+)\)/g,e=e.replace(l,(n,s,t)=>'<img src="'+t+'" alt="'+s+'"/>'),l=/\[([\w\W]+)\]\(([\w\W]+)\)/g,e=e.replace(l,(n,s,t)=>'<a src="'+t+'">'+s+"</a>"),e)}function M(e){let l,i;l=/<uli>([\w\W]+)<\/uli>+/g,e=e.replace(l,s=>{let t="<ul>"+s+"</ul>";return t=t.replace(/<uli>/g,"<li>"),t=t.replace(/<\/uli>/g,"</li>"),t}),l=/<oli>([\w\W]+)<\/oli>+/g,e=e.replace(l,s=>{let t="<ol>"+s+"</ol>";return t=t.replace(/<oli>/g,"<li>"),t=t.replace(/<\/oli>/g,"</li>"),t}),l=/```[\w\W]+```/g,e=e.replace(l,s=>{s=s.replace(/ /g,"&nbsp;");let t=s.slice(3,s.indexOf(`
`)),c=s.slice(s.indexOf(`
`)+1,-3);return c=c.replace(/\n/g,"<br/>"),"<multiple-code><code-language>"+t+"</code-language>"+c+"</multiple-code>"}),l=/((?<=\n)>[^<^\n]+\n*)+/g;let n=!0;for(;n;)n=!1,e=e.replace(l,s=>{n=!0;let t=s.split(`
`);return t=t.map(c=>c===""?"":c[1]===">"?c.slice(1):"<p>"+c.slice(1)+"</p>"),i=`<blockquote>
`+t.join(`
`)+`
</blockquote>`,i});return l=/((.+?\|)+.+\n*)+/g,e=e.replace(l,s=>{let t=s.split(`
`),c="<table>",r=[],u="<tbody>";for(let p=0;p<t.length;p++){if(p===0){let a="<tr>";t[p].split("|").map(f=>f.trim()).map(f=>a+="<th>"+f+"</th>"),a+="</tr>",c+=a;continue}if(p===1){t[p].split("|").map(g=>g.trim()).map((g,f)=>{let b=g.length-1;if(g[0]===":"&&g[b]===":"){r[f]="c";return}if(g[b]===":"){r[f]="r";return}r[f]="l"});continue}let o=t[p].split("|").map(a=>a.trim()),h="<tr>";o.map((a,g)=>h+='<td style:"text-align:'+(r[g]==="c"?"center":r[g]==="r"?"right":"left")+';">'+a+"</td>"),h+="</tr>",u+=h}return u+="</tbody>",c+=u,c+="</table>",console.log(c),c}),e}function L(e){let l=e.split(`
`),i=[],n;for(let c in l)if(l[c].indexOf("*/")!==-1){n=Number.parseInt(c)+1;break}let s=n;for(;s<l.length;s++){let c=l[s];i.push(x(c)),console.log(x(c))}return M(i.join(`
`))}class d{constructor(l){this.contentMarkdown=l,this.headMessage=null}getBlogHead(){return this.headMessage?this.headMessage:this.headMessage=W(this.contentMarkdown)}getBlogContentDom(){return L(this.contentMarkdown)}}export{d as E};
